# CleanX Roadmap

**작성일**: 2026-02-18
**버전**: 0.1.0

---

## CleanMyMac X 기능 vs CleanX 현재 상태

| 기능 | CleanMyMac X | CleanX CLI | 상태 |
|------|--------------|------------|------|
| **System Junk** | 시스템 캐시, 로그, 임시파일 | ✅ 캐시, 로그 | 구현됨 |
| **Photo Junk** | 사진 캐시, Faces, 중복 | ❌ | 미구현 |
| **Mail Attachments** | 메일 첨부파일 | ❌ | 미구현 |
| **Music Junk** | iTunes/Music 캐시 | ❌ | 미구현 |
| **Trash Bins** | 휴지통 | ✅ | 구현됨 |
| **Browser Caches** | 브라우저 캐시 | ✅ 13개 브라우저 | 구현됨 |
| **Dev Junk** | node_modules, target, .git | ✅ | 구현됨 |
| **Large & Old Files** | 큰 파일, 오래된 파일 | ❌ | 미구현 |
| **Duplicates** | 중복 파일 찾기 | ❌ | 미구현 |
| **Uninstaller** | 앱 삭제 + 관련파일 | ✅ 12개 카테고리 | 구현됨 |
| **Privacy** | 쿠키, 히스토리, 다운로드 기록 | ❌ | 미구현 |
| **Maintenance** | repair permissions, flush DNS | ❌ | 미구현 |
| **Space Lens** | 디스크 사용량 시각화 | ❌ | 미구현 |
| **Startup Items** | 로그인 항목 관리 | ❌ | 미구현 |
| **Memory** | RAM 정리 | ❌ | 미구현 |

---

## 완료된 Phase

### Phase 1: 기본 구조 ✅
- 프로젝트 초기화
- CLI 구조 (clap)
- 플러그인 시스템 (Scanner/Cleaner 트레이트)
- 설정 파일 (TOML)
- 히스토리 로깅
- 안전 검증 (SafetyChecker)
- 5개 스캐너 (Cache, Log, Dev, Trash, Browser)

### Phase 2: TUI 기본 ✅
- ratatui 기반 TUI
- 카테고리/아이템 네비게이션
- 다중 선택
- 삭제 확인 모달
- 결과 표시

### Phase 3: TUI 고도화 ✅
- 진행률 표시 (스캔 중)
- 다중 선택 UX (a: 전체선택, n: 전체해제)
- 크기 포맷팅 (GB, MB, KB)
- 안전 레벨 시각화 (색상)
- 삭제 결과 모달
- 포커스 항목 시각화 (노란색 볼드)

### Phase 4: 앱 삭제 심화 ✅
- AppBundle/PlistInfo (plist 파싱)
- 12개 RelatedCategory 검색
- AppDetector, RelatedFileDetector
- 시스템 앱 보호 (21개 Apple 앱)
- 실행 중인 앱 감지
- Protected 카테고리 표시
- 백그라운드 용량 계산 (non-blocking)
- 레이지 로딩
- 컬럼 정렬

---

## 향후 로드맵

### Phase 5: 스캐너 확장
**우선순위**: 높음
**예상 난이도**: 중간
**상태**: 진행 중

- [ ] **Mail Attachments**
  - 경로: `~/Library/Mail/V*/Attachments`
  - 메일 첨부파일 정리
  - 안전 레벨: Caution

- [ ] **Photo Junk**
  - Photos 라이브러리 캐시
  - Faces 데이터
  - 썸네일 캐시
  - 안전 레벨: Caution

- [ ] **Music/Podcast Junk**
  - Apple Music 캐시
  - Podcasts 다운로드
  - 안전 레벨: Safe

- [ ] **Large & Old Files**
  - 크기 기준 필터링 (100MB+)
  - 기간 기준 필터링 (30일+ 미사용)
  - 사용자 확인 필수
  - ✅ 구현 완료

### Phase 6: 중복 파일 탐지
**우선순위**: 중간
**예상 난이도**: 높음

- [ ] **Duplicates Finder**
  - 파일 해시 기반 중복 탐지 (SHA256)
  - 대상: 사진, 문서, 음악
  - 원본 보호 로직
  - 성능 최적화 필요 (병렬 처리)

### Phase 7: 프라이버시
**우선순위**: 중간
**예상 난이도**: 중간

- [ ] **Browser Privacy**
  - 쿠키 삭제
  - 브라우징 히스토리
  - 다운로드 기록
  - 브라우저별 구분 (Chrome, Safari, Firefox 등)

- [ ] **Recent Items**
  - 최근 문서
  - 최근 앱
  - 다운로드 기록

### Phase 8: 시스템 유지보수
**우선순위**: 낮음
**예상 난이도**: 중간

- [ ] **Maintenance Scripts**
  - flush DNS
  - rebuild LaunchServices
  - reset Spotlight index
  - clean DNS cache

- [ ] **Memory Clean**
  - purge 명령 실행
  - 메모리 사용량 표시

### Phase 9: TUI 개선
**우선순위**: 낮음
**예상 난이도**: 높음

- [ ] **Space Visualization**
  - 디스크 사용량 트리맵
  - 간단한 텍스트 기반 버전

- [ ] **Settings Screen**
  - 설정 TUI
  - 스캐너 활성화/비활성화

- [ ] **Scheduled Cleaning**
  - 자동 정리 스케줄
  - launchd 통합

---

## 우선순위 요약

```
1순위: Mail Attachments, Photo Junk (빈도 높음, 용량 큼)
2순위: Large & Old Files (사용자 요구 많음)
3순위: Duplicates (구현 복잡하지만 가치 높음)
4순위: Privacy, Maintenance
5순위: Space Lens, Memory Clean
```

---

## 브라우저 지원 목록 (현재 13개)

1. Safari
2. Chrome
3. Firefox
4. Edge
5. Arc
6. Brave
7. Vivaldi
8. Opera
9. Opera GX
10. Comet
11. Whale
12. Chromium
13. Orion

---

## 기술 스택

- **언어**: Rust
- **CLI**: clap
- **TUI**: ratatui + crossterm
- **파일시스템**: walkdir, glob
- **병렬처리**: rayon
- **설정**: serde + toml
- **plist 파싱**: plist crate

---

## 명령어

```bash
# TUI 실행 (기본) - 스캔 후 정리
cleanx

# 앱 삭제 TUI
cleanx apps

# CLI 스캔
cleanx scan --category caches
cleanx scan --category all

# CLI 정리 (dry-run)
cleanx clean --category caches

# 실제 정리
cleanx clean --category caches --execute

# 앱 삭제 CLI
cleanx uninstall "App Name" --execute
```

---

**최종 업데이트**: 2026-02-18
